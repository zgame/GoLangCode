syntax = "proto3";
package GameSandRock;


//-------------------------------------用户信息---------------------------
message _user{
	uint32 userId = 1;          //用户ID
	string openId = 2;          //渠道sdkID
	string nickName = 3;          //昵称
	uint32 level = 4;            //用户等级
	uint32 exp = 5;              //
	uint32 faceId = 6;              //
	uint32 gender = 7;              //
	uint32 roomId = 8;          //房间ID
	uint32 chairId = 9;          //位置ID
}

//---------------------------------------登录-------------------------------
//游戏服务器登录申请, 服务器处理优先级是mac地址， openid, uid，
message GameLogin{
	string machineId = 1;              //机器序列
	string openId = 2;              //  渠道id
	uint32 userId = 3;              //用户 I D
	string password = 4;              //登录密码(32md5)
	string ipAddr = 5;              //IP地址
	uint32 channel = 6;            //渠道号 1为官网
	string deviceType = 7;            //设备的型号
	uint32 gameId = 8;            //登录游戏编号 , 必须发
}

// 登录成功
message GameLoginResult{
	bool success = 1;     // 1成功，0失败
	_user user = 2;        //用户信息
	string err = 3;
}

// 登出
message GameLogout{
	uint32 userId = 1;
}
// 登出结果
message GameLogoutResult{
	bool success = 1;     // 1成功，0失败
}
// 游戏的信息同步
message GameInfo{
	uint32 npcList = 1;
}

//其他玩家进入游戏场景
message UserList{
	repeated _user user = 1;        //用户信息
}
// 其他玩家离开游戏
message OtherLeaveRoom{
	uint32 userId = 1;
}

//---------------------------------------同步位置-------------------------------
message _location{
	uint32 userId = 1;
	uint32 x = 2;
	uint32 y = 3;
	uint32 z = 4;
	uint32 faceDir = 5 ;     // 面对方向
	uint64 action = 6 ; //玩家当前行为
}
//位置信息同步
message PlayerLocation{
	repeated _location location = 1;
	uint64 time = 2; //时间戳
}

//---------------------------------------同步位置-------------------------------